## command

此类型用于更改渲染命令参数。

> 在修改此类型的实例时要谨慎。向 `texture` 或 `frag_shader` 传递无效数据，或在完成绘制后不恢复某些更改，可能会导致未定义行为，更可能引发崩溃。如果您不确定如何操作此类型，请参考示例。

## texture

[![字段][此字段是一个普通字段，必须使用点 (.) 访问]rw]

类型: [`ptr`](/api/common-types/ptr "此类型是一个字面指针。")

纹理指针。您可以通过访问 `texture` 类型实例的 `obj` 字段来获取一个。**向此字段传递无效数据将导致崩溃**。为了更安全的方式，请使用 [`set_texture`](/api/draw/layer/command?id=set_texture "以安全方式设置纹理。")。

## frag_shader

[![字段][此字段是一个普通字段，必须使用点 (.) 访问]rw]

类型: [`ptr`](/api/common-types/ptr "此类型是一个字面指针。")

片段着色器（即 DirectX 中的像素着色器）指针。您可以通过访问 `shader` 类型实例的 `obj` 字段来获取一个。**向此字段传递无效数据将导致崩溃**。为了更安全的方式，请使用 `set_shader`。

## clip_rect

[![字段][此字段是一个普通字段，必须使用点 (.) 访问]rw]

类型: [`rect?`](/api/draw/common-types/rect "此类型是渲染系统中使用的矩形。")

用于剪切测试的剪切矩形。如果设置为 `nil`，则不会剪切任何内容。

> 建议使用图层的 `override_clip_rect` 方法。虽然您可以将自定义矩形传递给此字段，但**会**丢失之前设置的剪切矩形信息。使用该方法可以确保将之前的矩形与您传递的矩形相交，并产生更预期的结果。

## uv_rect

[![字段][此字段是一个普通字段，必须使用点 (.) 访问]rw]

类型: [`rect?`](/api/draw/common-types/rect "此类型是渲染系统中使用的矩形。")

用于纹理映射的 UV 矩形。如果此字段设置为 `nil`，将使用 `0, 0, 1, 1` 矩形来映射纹理。您可以在教程部分了解更多关于纹理映射的信息。

## alpha

[![字段][此字段是一个普通字段，必须使用点 (.) 访问]rw]

类型: `float`

全局透明度覆盖。默认值为 `1`，但如果您设置其他值，则会调整每个后续形状的透明度。

## rotation

[![字段][此字段是一个普通字段，必须使用点 (.) 访问]rw]

类型: `float`

形状旋转。并非所有形状都支持此字段。值以**度**为单位，而不是弧度。

## anti_alias

[![字段][此字段是一个普通字段，必须使用点 (.) 访问]rw]

类型: `bool`

如果设置为 `true`，将对形状应用细分化。

> 目前，并非所有形状都支持细分化，但建议始终启用它。无论如何，它会产生更好的结果。

## ignore_scaling

[![字段][此字段是一个普通字段，必须使用点 (.) 访问]rw]

类型: `bool`

如果设置为 `true`，将忽略全局 DPI 缩放。默认情况下设置为 `true`，但如果您尝试渲染一些自定义 UI 元素，可以将其更改为 `false`。

## chained_call

[![字段][此字段是一个普通字段，必须使用点 (.) 访问]rw]

类型: `bool`

仅在使用着色器时有用。如果设置为 `true`，将**不**更新回缓冲区纹理。如果需要完全相同的纹理数据，例如在多次应用着色器到回缓冲区时，可以使用此功能。

> 请注意，捕获回缓冲区是一个相当**慢**的操作。最好不要过于频繁地捕获它。回缓冲区会自动捕获到唯一可用的图层中，最好使用该图层以确保渲染尽可能快。

## only_downsampled

[![字段][此字段是一个普通字段，必须使用点 (.) 访问]rw]

类型: `bool`

如果设置为 `true`，将捕获回缓冲区（前提是 `chained_call` 设置为 `false`）。此字段名称有些误导，因为在 CS:GO 版本的 Fatality 中，它用于配置渲染系统是否还应对捕获的回缓冲区进行降采样。在 DirectX11 中，此操作**快得多**，因此无论设置为何都会执行。

## capture_back_buffer

[![字段][此字段是一个普通字段，必须使用点 (.) 访问]rw]

类型: `bool`

`only_downsampled` 的别名。

## is_tile

[![字段][此字段是一个普通字段，必须使用点 (.) 访问]rw]

类型: `bool`

如果设置为 `true`，将使用支持平铺的单独纹理采样器。默认情况下，所有纹理都是**拉伸**的，但如果您启用此选项，则它们的平铺和拉伸将完全由 `uv_rect` 字段配置。

## mode

[![字段][此字段是一个普通字段，必须使用点 (.) 访问]rw]

类型: [`render_mode`](/api/draw/layer/command/render-mode "此枚举用于切换渲染模式。")

渲染模式。您可以在类型的文档中了解更多相关信息。

## set_texture

[[字段]]

以安全方式设置纹理。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `tex` | [`texture`](/api/draw/managed/texture "此类型表示纹理对象。") | 纹理对象。 |

**返回值**

无。

**示例**

```lua
cmd:set_texture(my_tex);
```

## set_shader

[[字段]]

以安全方式设置片段着色器。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `sh` | [`shader`] | 着色器对象。 |

**返回值**

无。

**示例**

```lua
cmd:set_shader(my_shader);
```