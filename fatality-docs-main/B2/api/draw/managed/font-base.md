## font_base

此类型表示字体类型的基类。你不能直接创建此类型的实例。请使用子类型。

> 此类型继承自 [`managed`](/api/draw/managed "此类型表示一个托管对象。你不能直接创建此类型的实例。") 类型。其所有基类方法和字段在此类型中同样可用。

> 定义：
> * **codepoint**：字符的 Unicode 表示。
> * **kerning**：两个字符之间的距离。
> * **glyph**：字符的视觉表示。

## height

[![字段][这是一个普通字段，必须使用点 (.) 访问。]rw]
[![Read Only][这是一个只读字段，无法更改其值。这不适用于任何子字段。]r]

**类型:** `float`

字体高度，以像素为单位。

## ascent

[![字段][这是一个普通字段，必须使用点 (.) 访问。]rw]

**类型:** `float`

字体上升值，以像素为单位。

## descent

[![字段][这是一个普通字段，必须使用点 (.) 访问。]rw]

**类型:** `float`

字体下降值，以像素为单位。

## line_gap

[![字段][这是一个普通字段，必须使用点 (.) 访问。]rw]

**类型:** `float`

字体行间距，以像素为单位。

## kerning_gap

[![字段][这是一个普通字段，必须使用点 (.) 访问。]rw]

**类型:** `float`

字体字距调整间距，以像素为单位。

## outline_alpha

[![字段][这是一个普通字段，必须使用点 (.) 访问。]rw]

**类型:** `float`

字体轮廓透明度（`0` 到 `1`）。默认值为 `0.45`。

## flags

[![字段][这是一个普通字段，必须使用点 (.) 访问。]rw]
[![Read Only][这是一个只读字段，无法更改其值。这不适用于任何子字段。]r]

**类型:** [`font_flags`](/api/draw/managed/font-base/font-flags "此枚举确定字体对象应具备哪些标志。设置这些标志仅在类型构造期间可能。")

字体标志。使用 `bit` 库读取标志。

## y_offset

[![字段][这是一个普通字段，必须使用点 (.) 访问。]rw]

**类型:** `int`

字形 Y 偏移量，以像素为单位。会改变字形在图集中的位置。在字体创建后更改此值是无意义的。

## x_offset

[![字段][这是一个普通字段，必须使用点 (.) 访问。]rw]

**类型:** `int`

字形 X 偏移量，以像素为单位。会改变字形在图集中的位置。在字体创建后更改此值是无意义的。

## fallback_font

[![字段][这是一个普通字段，必须使用点 (.) 访问。]rw]

**类型:** `font_base`

备用字体，在当前字体中找不到字形时使用。当一个字体没有特定符号的 codepoints 时，但你仍然希望优先使用该字体的字形，可以使用备用字体。

## dropshadow_color

[![字段][这是一个普通字段，必须使用点 (.) 访问。]rw]

**类型:** [`color`](/api/draw/common-types/color "此类型是渲染系统中使用的颜色。")

阴影颜色。仅使用 R、G、B 值。

## get_kerned_char_width

[![方法][此字段是方法，必须使用冒号 (:) 调用。]rw]

返回包含字距调整的字符宽度。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `left` | `int` | 前一个字符的 codepoint。 |
| `right` | `int` | 当前字符的 codepoint。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `float` | 距离，以像素为单位。 |

**示例**

```lua
local w = font:get_kerned_char_width(prev_cp, cp);
```

## get_kerning

[![方法][此字段是方法，必须使用冒号 (:) 调用。]rw]

返回单个字符的字距调整值。如果禁用了字距调整，则返回字距调整间距。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `cp` | `int` | Codepoint。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `float` | 字距调整值，以像素为单位。 |

**示例**

```lua
local k = font:get_kerning(cp);
```

## get_text_size

[![方法][此字段是方法，必须使用冒号 (:) 调用。]rw]

返回文本区域大小。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `text` | `string` | 文本。 |
| `skip_scaling` | `bool` | 如果设置为 `true`，将跳过全局 DPI 缩放。默认为 `false`。 |
| `til_newline` | `bool` | 仅计算到遇到换行符为止的大小。默认为 `false`。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| [`vec2`](/api/draw/common-types/vec2 "此类型是渲染系统中使用的二维向量。") | 文本区域大小。 |

**示例**

```lua
local sz = font:get_text_size('Hello!');
```

## wrap_text

[![方法][此字段是方法，必须使用冒号 (:) 调用。]rw]

将文本换行以满足所需的宽度。换行通过按单词拆分文本并在中间插入换行符来完成。如果某个单词比目标宽度长，则使用该单词的宽度。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `text` | `string` | 要换行的文本。 |
| `width` | `float` | 目标宽度。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `string` | 换行后的文本。 |

**示例**

```lua
local shorter = font:wrap_text('This is some very long text!', 50);
```

## get_glyph

[![方法][此字段是方法，必须使用冒号 (:) 调用。]rw]

返回字符的字形信息。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `codepoint` | `int` | Codepoint。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| [`glyph_t`](/api/draw/managed/font-base/glyph-t "此类型表示一个字形对象。") | 字形信息。 |

**示例**

```lua
local glyph = font:get_glyph(cp);
```

## get_texture

[![方法][此字段是方法，必须使用冒号 (:) 调用。]rw]

返回包含所提供字形的纹理图集。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `gl` | [`glyph_t`](/api/draw/managed/font-base/glyph-t "此类型表示一个字形对象。") | 字符字形。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `int` | 纹理指针，或未找到时返回 `nil`。 |

**示例**

```lua
local atlas = font:get_texture(glyph);
```